\hypertarget{native__allocator_8hpp_source}{}\doxysection{native\+\_\+allocator.\+hpp}
\label{native__allocator_8hpp_source}\index{F:/NCoder/NCPP/ncpp/source/ncpp/native\_allocator.hpp@{F:/NCoder/NCPP/ncpp/source/ncpp/native\_allocator.hpp}}
\mbox{\hyperlink{native__allocator_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#pragma\ region\ Includes}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{prerequisites_8hpp}{ncpp/prerequisites.hpp}}>}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{lref_8hpp}{ncpp/utilities/lref.hpp}}>}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{mem_8hpp}{ncpp/mem.hpp}}>}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#pragma\ endregion}}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacencpp}{ncpp}}\ \{}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \textcolor{keyword}{class\ }native\_heap;}
\DoxyCodeLine{00059\ \ \ \textcolor{keyword}{class\ }native\_allocator\_i;}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ value\_type\_\_>}
\DoxyCodeLine{00062\ \ \ \textcolor{keyword}{class\ }NCPP\_DEFAULT\_ALIGNAS\ native\_allocator\_t;}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \textcolor{keyword}{extern}\ native\_allocator\_i\&\ current\_native\_allocator();}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ value\_type\_\_>}
\DoxyCodeLine{00083\ \ \ \textcolor{keyword}{inline}\ native\_allocator\_t<value\_type\_\_>\&\ current\_native\_allocator\_t()\ \{}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordflow}{return}\ (native\_allocator\_t<value\_type\_\_>\&)current\_native\_allocator();}
\DoxyCodeLine{00086\ \ \ \}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00104\ \ \ \textcolor{keyword}{class\ }NCPP\_DEFAULT\_ALIGNAS\ \mbox{\hyperlink{classncpp_1_1native__allocator__i}{native\_allocator\_i}}\ \{}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \textcolor{preprocessor}{\#pragma\ region\ Constructors,\ Destructor\ and\ Operators}}
\DoxyCodeLine{00111\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classncpp_1_1native__allocator__i}{native\_allocator\_i}}()\ \{}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \ \ \}}
\DoxyCodeLine{00117\ \ \ \ \ \mbox{\hyperlink{classncpp_1_1native__allocator__i}{\string~native\_allocator\_i}}()\ \{}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \ \ \}}
\DoxyCodeLine{00122\ \textcolor{preprocessor}{\#pragma\ endregion}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \textcolor{preprocessor}{\#pragma\ region\ Methods}}
\DoxyCodeLine{00129\ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}*\ abstract\_allocate(\mbox{\hyperlink{namespacencpp_a9c908a636a39a8df2bbc0cd4b6399eb4}{sz}}\ size,\ \mbox{\hyperlink{namespacencpp_a9c908a636a39a8df2bbc0cd4b6399eb4}{sz}}\ align\ =\ 1)\ \{}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ current\_native\_allocator().abstract\_allocate(size,\ align);}
\DoxyCodeLine{00133\ \ \ \ \ \}}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ abstract\_deallocate(\textcolor{keywordtype}{void}*\ p,\ \mbox{\hyperlink{namespacencpp_a9c908a636a39a8df2bbc0cd4b6399eb4}{sz}}\ size\ =\ 1)\ \{}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \ \ \ \ \mbox{\hyperlink{classncpp_1_1native__allocator__i}{native\_allocator\_i}}*\ allocator\_p\ =\ *(\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classncpp_1_1native__allocator__i}{native\_allocator\_i}}**\textcolor{keyword}{>}(p)\ -\/\ 1);}
\DoxyCodeLine{00138\ \ \ \ \ \ \ allocator\_p-\/>abstract\_deallocate(p,\ size);}
\DoxyCodeLine{00139\ \ \ \ \ \}}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keywordtype}{void}\ apply\_native\_use();}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordtype}{void}\ clear\_native\_use();}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ operator\ !=\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{classncpp_1_1native__allocator__i}{native\_allocator\_i}}\&\ other)\ \{}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00150\ \ \ \ \ \}}
\DoxyCodeLine{00151\ \textcolor{preprocessor}{\#pragma\ endregion}}
\DoxyCodeLine{00152\ }
\DoxyCodeLine{00153\ \ \ \};}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ value\_type\_\_>}
\DoxyCodeLine{00172\ \ \ \textcolor{keyword}{class\ }NCPP\_DEFAULT\_ALIGNAS\ \mbox{\hyperlink{classncpp_1_1native__allocator__t}{native\_allocator\_t}}\ :}
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{classncpp_1_1native__allocator__i}{native\_allocator\_i}}}
\DoxyCodeLine{00174\ \ \ \{}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \textcolor{preprocessor}{\#pragma\ region\ Typedefs}}
\DoxyCodeLine{00181\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{keyword}{using\ }size\_type\ =\ \mbox{\hyperlink{namespacencpp_a9c908a636a39a8df2bbc0cd4b6399eb4}{sz}};}
\DoxyCodeLine{00183\ \ \ \ \ \textcolor{keyword}{using\ }difference\_type\ =\ ptrdiff\_t;}
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keyword}{using\ }pointer\ =\ value\_type\_\_*;}
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keyword}{using\ }const\_pointer\ =\ \textcolor{keyword}{const}\ value\_type\_\_*;}
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keyword}{using\ }reference\ =\ value\_type\_\_\&;}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keyword}{using\ }const\_reference\ =\ \textcolor{keyword}{const}\ value\_type\_\_\&;}
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keyword}{using\ }value\_type\ =\ value\_type\_\_;}
\DoxyCodeLine{00189\ \textcolor{preprocessor}{\#pragma\ endregion}}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \textcolor{preprocessor}{\#pragma\ region\ Properties}}
\DoxyCodeLine{00196\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00197\ \textcolor{preprocessor}{\#pragma\ endregion}}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ \textcolor{preprocessor}{\#pragma\ region\ Getters}}
\DoxyCodeLine{00204\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00205\ \textcolor{preprocessor}{\#pragma\ endregion}}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \textcolor{preprocessor}{\#pragma\ region\ Constructors,\ Destructor\ and\ Operators}}
\DoxyCodeLine{00212\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00213\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classncpp_1_1native__allocator__t}{native\_allocator\_t}}()}
\DoxyCodeLine{00214\ \ \ \ \ \{}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00217\ }
\DoxyCodeLine{00218\ \ \ \ \ \}}
\DoxyCodeLine{00219\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classncpp_1_1native__allocator__t}{native\_allocator\_t}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classncpp_1_1native__allocator__t}{native\_allocator\_t}}\&\ other)}
\DoxyCodeLine{00220\ \ \ \ \ \{}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ }
\DoxyCodeLine{00224\ \ \ \ \ \}}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classncpp_1_1native__allocator__t}{native\_allocator\_t<value\_type>}}\&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classncpp_1_1native__allocator__t}{native\_allocator\_t}}\&\ other)\ \{}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00229\ \ \ \ \ \}}
\DoxyCodeLine{00230\ }
\DoxyCodeLine{00231\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ other\_value\_type\_\_>}
\DoxyCodeLine{00232\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classncpp_1_1native__allocator__t}{native\_allocator\_t}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classncpp_1_1native__allocator__t}{native\_allocator\_t<other\_value\_type\_\_>}}\&\ other)}
\DoxyCodeLine{00233\ \ \ \ \ \{}
\DoxyCodeLine{00234\ }
\DoxyCodeLine{00235\ }
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00237\ \ \ \ \ \}}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ other\_value\_type\_\_>}
\DoxyCodeLine{00240\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classncpp_1_1native__allocator__t}{native\_allocator\_t}}\&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classncpp_1_1native__allocator__t}{native\_allocator\_t<other\_value\_type\_\_>}}\&\ other)\ \{}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00243\ \ \ \ \ \}}
\DoxyCodeLine{00244\ \textcolor{preprocessor}{\#pragma\ endregion}}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \textcolor{preprocessor}{\#pragma\ region\ Methods}}
\DoxyCodeLine{00251\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00252\ \ \ \ \ \textcolor{keyword}{inline}\ pointer\ \ \ allocate(size\_type\ n,\ \mbox{\hyperlink{namespacencpp_a9c908a636a39a8df2bbc0cd4b6399eb4}{sz}}\ align\ =\ 1)\ \{}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00254\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (pointer)abstract\_allocate(\textcolor{keyword}{sizeof}(value\_type\_\_)\ *\ n,\ align);}
\DoxyCodeLine{00255\ \ \ \ \ \}}
\DoxyCodeLine{00256\ }
\DoxyCodeLine{00257\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ deallocate(\textcolor{keywordtype}{void}*\ p,\ \mbox{\hyperlink{namespacencpp_a9c908a636a39a8df2bbc0cd4b6399eb4}{sz}}\ n\ =\ 1)\ \{}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00259\ \ \ \ \ \ \ abstract\_deallocate(p,\ \textcolor{keyword}{sizeof}(value\_type\_\_)\ *\ n);}
\DoxyCodeLine{00260\ \ \ \ \ \}}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ \ \ \ \ \textcolor{keyword}{inline}\ pointer\ \ \ \ \ \ \ \ \ \ \ address(reference\ x)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \&x;\ \}}
\DoxyCodeLine{00263\ \ \ \ \ \textcolor{keyword}{inline}\ const\_pointer\ \ \ \ \ address(const\_reference\ x)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \&x;\ \}}
\DoxyCodeLine{00264\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ \ \ destroy(pointer\ p)\ \{\ p-\/>\string~value\_type();\ \}}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00266\ \ \ \ \ \textcolor{keyword}{inline}\ size\_type\ \ \ \ \ \ \ \ \ max\_size()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ size\_t(-\/1);\ \}}
\DoxyCodeLine{00267\ }
\DoxyCodeLine{00268\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ U>}
\DoxyCodeLine{00269\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structncpp_1_1native__allocator__t_1_1rebind}{rebind}}\ \{\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classncpp_1_1native__allocator__t}{native\_allocator\_t<U>}}\ \mbox{\hyperlink{classncpp_1_1native__allocator__t}{other}};\ \};}
\DoxyCodeLine{00270\ \textcolor{preprocessor}{\#pragma\ endregion}}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ \ \ \};}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ \}}
\DoxyCodeLine{00275\ }

\end{DoxyCode}
