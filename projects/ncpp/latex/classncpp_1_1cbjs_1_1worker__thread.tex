\hypertarget{classncpp_1_1cbjs_1_1worker__thread}{}\doxysection{ncpp\+::cbjs\+::worker\+\_\+thread Class Reference}
\label{classncpp_1_1cbjs_1_1worker__thread}\index{ncpp::cbjs::worker\_thread@{ncpp::cbjs::worker\_thread}}


Manages things working on a thread.  




{\ttfamily \#include $<$worker\+\_\+thread.\+hpp$>$}

\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_a460a76896bddd177bf5fbd62f24ebab5}\label{classncpp_1_1cbjs_1_1worker__thread_a460a76896bddd177bf5fbd62f24ebab5}} 
using {\bfseries job\+\_\+p\+\_\+queue\+\_\+type} = typename \mbox{\hyperlink{classncpp_1_1containers_1_1fixed__vector__queue__t}{containers\+::fixed\+\_\+vector\+\_\+queue\+\_\+t}}$<$ \mbox{\hyperlink{structncpp_1_1cbjs_1_1job}{job}} $\ast$ $>$
\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_a801ca226daae8055e364a4579bdbf292}\label{classncpp_1_1cbjs_1_1worker__thread_a801ca226daae8055e364a4579bdbf292}} 
using {\bfseries job\+\_\+p\+\_\+queue\+\_\+array\+\_\+type} = typename std\+::array$<$ job\+\_\+p\+\_\+queue\+\_\+type, NCPP\+\_\+\+DEFAULT\+\_\+\+JOB\+\_\+\+PRIORITY\+\_\+\+COUNT $>$
\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_a049a6b538ad091a6ec0e05ba3509a276}\label{classncpp_1_1cbjs_1_1worker__thread_a049a6b538ad091a6ec0e05ba3509a276}} 
using {\bfseries job\+\_\+p\+\_\+queue\+\_\+lock\+\_\+array\+\_\+type} = typename std\+::array$<$ \mbox{\hyperlink{classncpp_1_1pac_1_1spinlock}{pac\+::spinlock}}, NCPP\+\_\+\+DEFAULT\+\_\+\+JOB\+\_\+\+PRIORITY\+\_\+\+COUNT $>$
\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_ad88893e182d37a7a03baa08b09e4cf06}\label{classncpp_1_1cbjs_1_1worker__thread_ad88893e182d37a7a03baa08b09e4cf06}} 
using {\bfseries coroutine\+\_\+p\+\_\+queue\+\_\+type} = typename \mbox{\hyperlink{classncpp_1_1containers_1_1fixed__vector__queue__t}{containers\+::fixed\+\_\+vector\+\_\+queue\+\_\+t}}$<$ \mbox{\hyperlink{classncpp_1_1cbjs_1_1coroutine}{coroutine}} $\ast$ $>$
\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_a898cee8104960889ff002ad0f3573471}\label{classncpp_1_1cbjs_1_1worker__thread_a898cee8104960889ff002ad0f3573471}} 
using {\bfseries coroutine\+\_\+p\+\_\+queue\+\_\+array\+\_\+type} = typename std\+::array$<$ coroutine\+\_\+p\+\_\+queue\+\_\+type, NCPP\+\_\+\+DEFAULT\+\_\+\+JOB\+\_\+\+PRIORITY\+\_\+\+COUNT $>$
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_abb21db923cfaa05d45cedef31c0bb27e}\label{classncpp_1_1cbjs_1_1worker__thread_abb21db923cfaa05d45cedef31c0bb27e}} 
\mbox{\hyperlink{namespacencpp_a74cd32b52d6ec0fc0972bfe75223751a}{u32}} {\bfseries index} () const
\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_ab645e7c293bd4b5e78ef9468c8d058be}\label{classncpp_1_1cbjs_1_1worker__thread_ab645e7c293bd4b5e78ef9468c8d058be}} 
std\+::thread \& {\bfseries std\+\_\+thread} ()
\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_aa96340ecade77ea45c08c2fedcfe17c0}\label{classncpp_1_1cbjs_1_1worker__thread_aa96340ecade77ea45c08c2fedcfe17c0}} 
const std\+::thread \& {\bfseries std\+\_\+thread} () const
\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_a352c438a93eea0dc2d8de8fadbcd4cba}\label{classncpp_1_1cbjs_1_1worker__thread_a352c438a93eea0dc2d8de8fadbcd4cba}} 
pac\+::fiber \& {\bfseries fiber} ()
\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_a422eb8759ddff1d091c326e57bb06532}\label{classncpp_1_1cbjs_1_1worker__thread_a422eb8759ddff1d091c326e57bb06532}} 
const pac\+::fiber \& {\bfseries fiber} () const
\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_a562844f3668a6bb15a4593e01a998f8c}\label{classncpp_1_1cbjs_1_1worker__thread_a562844f3668a6bb15a4593e01a998f8c}} 
\mbox{\hyperlink{classncpp_1_1cbjs_1_1coroutine__pool}{coroutine\+\_\+pool}} \& {\bfseries get\+\_\+coroutine\+\_\+pool} ()
\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_ab209bafdcac3a650ac0e65c252787033}\label{classncpp_1_1cbjs_1_1worker__thread_ab209bafdcac3a650ac0e65c252787033}} 
const \mbox{\hyperlink{classncpp_1_1cbjs_1_1coroutine__pool}{coroutine\+\_\+pool}} \& {\bfseries get\+\_\+coroutine\+\_\+pool} () const
\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_ae4dde02d0c84a79580a5f1e739d3b5fe}\label{classncpp_1_1cbjs_1_1worker__thread_ae4dde02d0c84a79580a5f1e739d3b5fe}} 
{\bfseries worker\+\_\+thread} (\mbox{\hyperlink{namespacencpp_a74cd32b52d6ec0fc0972bfe75223751a}{u32}} index)
\item 
void \mbox{\hyperlink{classncpp_1_1cbjs_1_1worker__thread_ab13f81e73e96a4fba2d913bd402ea979}{start}} ()
\begin{DoxyCompactList}\small\item\em Starts the worker thread. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_ade1151cb4a7f79d1e83342f5e5e10e73}\label{classncpp_1_1cbjs_1_1worker__thread_ade1151cb4a7f79d1e83342f5e5e10e73}} 
void {\bfseries join} ()
\begin{DoxyCompactList}\small\item\em Joinsthe C++ STL thread. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_a189bd75ff7a7fc77a6523556c70b8755}\label{classncpp_1_1cbjs_1_1worker__thread_a189bd75ff7a7fc77a6523556c70b8755}} 
void {\bfseries loop} ()
\begin{DoxyCompactList}\small\item\em The main worker loop. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_a8558c64dee09afcc6aad900ccca5a116}\label{classncpp_1_1cbjs_1_1worker__thread_a8558c64dee09afcc6aad900ccca5a116}} 
void {\bfseries schedule} (\mbox{\hyperlink{structncpp_1_1cbjs_1_1job}{job}} \&j)
\begin{DoxyCompactList}\small\item\em Schedules a job to be run on this thread. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacencpp_a74cd32b52d6ec0fc0972bfe75223751a}{u32}} \mbox{\hyperlink{classncpp_1_1cbjs_1_1worker__thread_a69be2a1670642d615469281df5b0c2fe}{index\+\_\+}}
\begin{DoxyCompactList}\small\item\em The worker thread index. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_a6a1190b310809d46566d96741d8db154}\label{classncpp_1_1cbjs_1_1worker__thread_a6a1190b310809d46566d96741d8db154}} 
std\+::thread {\bfseries std\+\_\+thread\+\_\+}
\begin{DoxyCompactList}\small\item\em The thread from C++ STL. \end{DoxyCompactList}\item 
job\+\_\+p\+\_\+queue\+\_\+array\+\_\+type \mbox{\hyperlink{classncpp_1_1cbjs_1_1worker__thread_aaaf5c7fde5167d79f845ae0a89a2c41f}{job\+\_\+p\+\_\+queue\+\_\+array\+\_\+}}
\begin{DoxyCompactList}\small\item\em Each job\+\_\+p\+\_\+queue has a priority, each job\+\_\+p\+\_\+queue is stored in this array. \end{DoxyCompactList}\item 
job\+\_\+p\+\_\+queue\+\_\+lock\+\_\+array\+\_\+type \mbox{\hyperlink{classncpp_1_1cbjs_1_1worker__thread_a9c781c17f83ff3eb5f29361a735c1b91}{job\+\_\+p\+\_\+queue\+\_\+lock\+\_\+array\+\_\+}}
\begin{DoxyCompactList}\small\item\em Each job\+\_\+p\+\_\+queue\+\_\+lock has a priority, each job\+\_\+p\+\_\+queue\+\_\+lock is stored in this array. \end{DoxyCompactList}\item 
coroutine\+\_\+p\+\_\+queue\+\_\+array\+\_\+type \mbox{\hyperlink{classncpp_1_1cbjs_1_1worker__thread_aeb3ba378233f41efccbad12f48d65734}{coroutine\+\_\+p\+\_\+queue\+\_\+array\+\_\+}}
\begin{DoxyCompactList}\small\item\em Each coroutine\+\_\+p\+\_\+queue has a priority, each coroutine\+\_\+p\+\_\+queue is stored in this array. \end{DoxyCompactList}\item 
std\+::unique\+\_\+ptr$<$ pac\+::fiber $>$ \mbox{\hyperlink{classncpp_1_1cbjs_1_1worker__thread_a1c28b5ec43c612bd27c62e6e4511df94}{fiber\+\_\+p\+\_\+}}
\begin{DoxyCompactList}\small\item\em This thread\textquotesingle{}s fiber pointer. \end{DoxyCompactList}\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classncpp_1_1cbjs_1_1coroutine__pool}{coroutine\+\_\+pool}} $>$ \mbox{\hyperlink{classncpp_1_1cbjs_1_1worker__thread_ad49ddd243111410474b8f60f0d9491ec}{coroutine\+\_\+pool\+\_\+p\+\_\+}}
\begin{DoxyCompactList}\small\item\em This thread\textquotesingle{}s coroutine pool pointer. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Manages things working on a thread. 

It contain a fiber, a coroutine pool, coroutine pointer queues and job pointer queues. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_ab13f81e73e96a4fba2d913bd402ea979}\label{classncpp_1_1cbjs_1_1worker__thread_ab13f81e73e96a4fba2d913bd402ea979}} 
\index{ncpp::cbjs::worker\_thread@{ncpp::cbjs::worker\_thread}!start@{start}}
\index{start@{start}!ncpp::cbjs::worker\_thread@{ncpp::cbjs::worker\_thread}}
\doxysubsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily void ncpp\+::cbjs\+::worker\+\_\+thread\+::start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Starts the worker thread. 

Automatically creating a new C++ STL thread if not main worker thread. 

\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_aeb3ba378233f41efccbad12f48d65734}\label{classncpp_1_1cbjs_1_1worker__thread_aeb3ba378233f41efccbad12f48d65734}} 
\index{ncpp::cbjs::worker\_thread@{ncpp::cbjs::worker\_thread}!coroutine\_p\_queue\_array\_@{coroutine\_p\_queue\_array\_}}
\index{coroutine\_p\_queue\_array\_@{coroutine\_p\_queue\_array\_}!ncpp::cbjs::worker\_thread@{ncpp::cbjs::worker\_thread}}
\doxysubsubsection{\texorpdfstring{coroutine\_p\_queue\_array\_}{coroutine\_p\_queue\_array\_}}
{\footnotesize\ttfamily coroutine\+\_\+p\+\_\+queue\+\_\+array\+\_\+type ncpp\+::cbjs\+::worker\+\_\+thread\+::coroutine\+\_\+p\+\_\+queue\+\_\+array\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Each coroutine\+\_\+p\+\_\+queue has a priority, each coroutine\+\_\+p\+\_\+queue is stored in this array. 

The capacity of coroutine\+\_\+p\+\_\+queue\+\_\+array\+\_\+ is the priority count. \mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_ad49ddd243111410474b8f60f0d9491ec}\label{classncpp_1_1cbjs_1_1worker__thread_ad49ddd243111410474b8f60f0d9491ec}} 
\index{ncpp::cbjs::worker\_thread@{ncpp::cbjs::worker\_thread}!coroutine\_pool\_p\_@{coroutine\_pool\_p\_}}
\index{coroutine\_pool\_p\_@{coroutine\_pool\_p\_}!ncpp::cbjs::worker\_thread@{ncpp::cbjs::worker\_thread}}
\doxysubsubsection{\texorpdfstring{coroutine\_pool\_p\_}{coroutine\_pool\_p\_}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classncpp_1_1cbjs_1_1coroutine__pool}{coroutine\+\_\+pool}}$>$ ncpp\+::cbjs\+::worker\+\_\+thread\+::coroutine\+\_\+pool\+\_\+p\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



This thread\textquotesingle{}s coroutine pool pointer. 

Uses pointer because we need to initialize it later inside C++ STL thread. \mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_a1c28b5ec43c612bd27c62e6e4511df94}\label{classncpp_1_1cbjs_1_1worker__thread_a1c28b5ec43c612bd27c62e6e4511df94}} 
\index{ncpp::cbjs::worker\_thread@{ncpp::cbjs::worker\_thread}!fiber\_p\_@{fiber\_p\_}}
\index{fiber\_p\_@{fiber\_p\_}!ncpp::cbjs::worker\_thread@{ncpp::cbjs::worker\_thread}}
\doxysubsubsection{\texorpdfstring{fiber\_p\_}{fiber\_p\_}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$pac\+::fiber$>$ ncpp\+::cbjs\+::worker\+\_\+thread\+::fiber\+\_\+p\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



This thread\textquotesingle{}s fiber pointer. 

Uses pointer because we need to initialize it later inside C++ STL thread. \mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_a69be2a1670642d615469281df5b0c2fe}\label{classncpp_1_1cbjs_1_1worker__thread_a69be2a1670642d615469281df5b0c2fe}} 
\index{ncpp::cbjs::worker\_thread@{ncpp::cbjs::worker\_thread}!index\_@{index\_}}
\index{index\_@{index\_}!ncpp::cbjs::worker\_thread@{ncpp::cbjs::worker\_thread}}
\doxysubsubsection{\texorpdfstring{index\_}{index\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacencpp_a74cd32b52d6ec0fc0972bfe75223751a}{u32}} ncpp\+::cbjs\+::worker\+\_\+thread\+::index\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



The worker thread index. 

0 is the main worker thread. \mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_aaaf5c7fde5167d79f845ae0a89a2c41f}\label{classncpp_1_1cbjs_1_1worker__thread_aaaf5c7fde5167d79f845ae0a89a2c41f}} 
\index{ncpp::cbjs::worker\_thread@{ncpp::cbjs::worker\_thread}!job\_p\_queue\_array\_@{job\_p\_queue\_array\_}}
\index{job\_p\_queue\_array\_@{job\_p\_queue\_array\_}!ncpp::cbjs::worker\_thread@{ncpp::cbjs::worker\_thread}}
\doxysubsubsection{\texorpdfstring{job\_p\_queue\_array\_}{job\_p\_queue\_array\_}}
{\footnotesize\ttfamily job\+\_\+p\+\_\+queue\+\_\+array\+\_\+type ncpp\+::cbjs\+::worker\+\_\+thread\+::job\+\_\+p\+\_\+queue\+\_\+array\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Each job\+\_\+p\+\_\+queue has a priority, each job\+\_\+p\+\_\+queue is stored in this array. 

The capacity of job\+\_\+p\+\_\+queue\+\_\+array\+\_\+ is the priority count. \mbox{\Hypertarget{classncpp_1_1cbjs_1_1worker__thread_a9c781c17f83ff3eb5f29361a735c1b91}\label{classncpp_1_1cbjs_1_1worker__thread_a9c781c17f83ff3eb5f29361a735c1b91}} 
\index{ncpp::cbjs::worker\_thread@{ncpp::cbjs::worker\_thread}!job\_p\_queue\_lock\_array\_@{job\_p\_queue\_lock\_array\_}}
\index{job\_p\_queue\_lock\_array\_@{job\_p\_queue\_lock\_array\_}!ncpp::cbjs::worker\_thread@{ncpp::cbjs::worker\_thread}}
\doxysubsubsection{\texorpdfstring{job\_p\_queue\_lock\_array\_}{job\_p\_queue\_lock\_array\_}}
{\footnotesize\ttfamily job\+\_\+p\+\_\+queue\+\_\+lock\+\_\+array\+\_\+type ncpp\+::cbjs\+::worker\+\_\+thread\+::job\+\_\+p\+\_\+queue\+\_\+lock\+\_\+array\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Each job\+\_\+p\+\_\+queue\+\_\+lock has a priority, each job\+\_\+p\+\_\+queue\+\_\+lock is stored in this array. 

The capacity of job\+\_\+p\+\_\+queue\+\_\+lock\+\_\+array\+\_\+ is the priority count. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
F\+:/\+NCoder/\+NCPP/ncpp/source/ncpp/cbjs/worker\+\_\+thread.\+hpp\item 
F\+:/\+NCoder/\+NCPP/ncpp/source/ncpp/cbjs/worker\+\_\+thread.\+cpp\end{DoxyCompactItemize}
