\hypertarget{classncpp_1_1cbjs_1_1coroutine}{}\doxysection{ncpp\+::cbjs\+::coroutine Class Reference}
\label{classncpp_1_1cbjs_1_1coroutine}\index{ncpp::cbjs::coroutine@{ncpp::cbjs::coroutine}}


A coroutine is a function that can suspend execution to be resumed later.  




{\ttfamily \#include $<$coroutine.\+hpp$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1coroutine_a8ec6c765586310a4dbfd0bf8a77a0923}\label{classncpp_1_1cbjs_1_1coroutine_a8ec6c765586310a4dbfd0bf8a77a0923}} 
\mbox{\hyperlink{namespacencpp_1_1cbjs_a35e48e1335bc568d09d6bf6eda6a159e}{coroutine\+\_\+state}} {\bfseries state} () const
\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1coroutine_af23efe1b5449a66364b558554c048e13}\label{classncpp_1_1cbjs_1_1coroutine_af23efe1b5449a66364b558554c048e13}} 
\mbox{\hyperlink{namespacencpp_a82bf51a534e48e8f4ce2b1cd4e9586e5}{b8}} {\bfseries is\+\_\+has\+\_\+job} () const
\begin{DoxyCompactList}\small\item\em Indicates whether job\+\_\+p\+\_\+ is NULL. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1coroutine_aee70175b8cb596acecf6c2fb922feb4c}\label{classncpp_1_1cbjs_1_1coroutine_aee70175b8cb596acecf6c2fb922feb4c}} 
void {\bfseries bind\+\_\+thread\+\_\+fiber} (pac\+::fiber \&thread\+\_\+fiber)
\begin{DoxyCompactList}\small\item\em Binds the thread fiber to use when job done,... \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1coroutine_a71a22744728bc9a1006073d933141fd1}\label{classncpp_1_1cbjs_1_1coroutine_a71a22744728bc9a1006073d933141fd1}} 
void {\bfseries bind\+\_\+job} (\mbox{\hyperlink{structncpp_1_1cbjs_1_1job}{job}} \&j)
\begin{DoxyCompactList}\small\item\em Binds the job to run. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1coroutine_a5be66adee15a21f99bd1c702dce7d60d}\label{classncpp_1_1cbjs_1_1coroutine_a5be66adee15a21f99bd1c702dce7d60d}} 
{\footnotesize template$<$typename state\+\_\+updater\+\_\+type , typename... arg\+\_\+types$>$ }\\void {\bfseries yield\+\_\+t} (arg\+\_\+types \&\&... args)
\begin{DoxyCompactList}\small\item\em Changes the state updater by auto creating it from the passed arguments and switch to the owner thread fiber. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1coroutine_ab32e08deb7eb9c083e5d31f0400b4618}\label{classncpp_1_1cbjs_1_1coroutine_ab32e08deb7eb9c083e5d31f0400b4618}} 
void {\bfseries yield} (\mbox{\hyperlink{classncpp_1_1cbjs_1_1coroutine__state__updater}{coroutine\+\_\+state\+\_\+updater}} \&state\+\_\+updater)
\begin{DoxyCompactList}\small\item\em Changes the state updater and switch to the owner thread fiber. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1coroutine_a9d3452ebbedca138715c2c3e76389dad}\label{classncpp_1_1cbjs_1_1coroutine_a9d3452ebbedca138715c2c3e76389dad}} 
void {\bfseries switch\+\_\+to\+\_\+this} ()
\begin{DoxyCompactList}\small\item\em Switches from owner thread fiber to the coroutine\textquotesingle{}s fiber. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1coroutine_a1ab4d96813b7c2b458121e8de6866073}\label{classncpp_1_1cbjs_1_1coroutine_a1ab4d96813b7c2b458121e8de6866073}} 
\mbox{\hyperlink{namespacencpp_1_1cbjs_a35e48e1335bc568d09d6bf6eda6a159e}{coroutine\+\_\+state}} {\bfseries update\+\_\+state} ()
\begin{DoxyCompactList}\small\item\em Updates the state by calling state\+\_\+updater\+\_\+p\+\_\+-\/\texorpdfstring{$>$}{>}update(). \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1coroutine_a3d7202645b2de22c80e42bfad0cccc9e}\label{classncpp_1_1cbjs_1_1coroutine_a3d7202645b2de22c80e42bfad0cccc9e}} 
void {\bfseries loop} ()
\begin{DoxyCompactList}\small\item\em The main worker loop. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classncpp_1_1cbjs_1_1coroutine_ae762cb99a24d6bb13a1e01c71d523775}{yield}} ()
\begin{DoxyCompactList}\small\item\em Changes the state updater to default and switch to the owner thread fiber. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1coroutine_aacb511212afd28e07cf19cce6bc6ec73}\label{classncpp_1_1cbjs_1_1coroutine_aacb511212afd28e07cf19cce6bc6ec73}} 
pac\+::fiber {\bfseries fiber\+\_\+}
\begin{DoxyCompactList}\small\item\em unique fiber of the coroutine. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1coroutine_ac40c6a9aa06cde73b95c98b048e6569d}\label{classncpp_1_1cbjs_1_1coroutine_ac40c6a9aa06cde73b95c98b048e6569d}} 
pac\+::fiber $\ast$ {\bfseries thread\+\_\+fiber\+\_\+p\+\_\+}
\begin{DoxyCompactList}\small\item\em the owner thread fiber. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1coroutine_a2e88ebebf39395a5b2103c8529c26dbd}\label{classncpp_1_1cbjs_1_1coroutine_a2e88ebebf39395a5b2103c8529c26dbd}} 
\mbox{\hyperlink{structncpp_1_1cbjs_1_1job}{job}} $\ast$ {\bfseries job\+\_\+p\+\_\+}
\begin{DoxyCompactList}\small\item\em the job pointer that point to the job need to be run. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1coroutine_a03cf69e72dfa1716783157cc10d25040}\label{classncpp_1_1cbjs_1_1coroutine_a03cf69e72dfa1716783157cc10d25040}} 
\mbox{\hyperlink{classncpp_1_1cbjs_1_1coroutine__state__updater}{coroutine\+\_\+state\+\_\+updater}} $\ast$ {\bfseries state\+\_\+updater\+\_\+p\+\_\+}
\begin{DoxyCompactList}\small\item\em the current state updater. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1coroutine_af8667f6c4140381f90f49b08d5d564b9}\label{classncpp_1_1cbjs_1_1coroutine_af8667f6c4140381f90f49b08d5d564b9}} 
\mbox{\hyperlink{namespacencpp_1_1cbjs_a35e48e1335bc568d09d6bf6eda6a159e}{coroutine\+\_\+state}} {\bfseries state\+\_\+}
\begin{DoxyCompactList}\small\item\em the state of the coroutine. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A coroutine is a function that can suspend execution to be resumed later. 

It contain a fiber to run the main worker loop, be able to switch back to the owner thread fiber and resumed later by switching to that fiber. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classncpp_1_1cbjs_1_1coroutine_ae762cb99a24d6bb13a1e01c71d523775}\label{classncpp_1_1cbjs_1_1coroutine_ae762cb99a24d6bb13a1e01c71d523775}} 
\index{ncpp::cbjs::coroutine@{ncpp::cbjs::coroutine}!yield@{yield}}
\index{yield@{yield}!ncpp::cbjs::coroutine@{ncpp::cbjs::coroutine}}
\doxysubsubsection{\texorpdfstring{yield()}{yield()}}
{\footnotesize\ttfamily void ncpp\+::cbjs\+::coroutine\+::yield (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Changes the state updater to default and switch to the owner thread fiber. 

Also resetting job\+\_\+p\+\_\+ to NULL and state\+\_\+ to coroutine\+\_\+state\+::\+RUNNABLE. Be private because this function only need to call by the coroutine its self to switch back to the owner thread fiber when the coroutine is ready to take a new job. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
F\+:/\+NCoder/\+NCPP/ncpp/source/ncpp/cbjs/coroutine.\+hpp\item 
F\+:/\+NCoder/\+NCPP/ncpp/source/ncpp/cbjs/coroutine.\+cpp\end{DoxyCompactItemize}
